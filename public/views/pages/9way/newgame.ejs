<!DOCTYPE html>
<html>
<head>
  <% include ../../partials/header.ejs %>
  <link rel="stylesheet" type="text/css" href="/stylesheets/9way.css" />

  <script src="/socket.io/socket.io.js"></script>
  <script>
    var socket = io.connect('/');

    socket.on('redirect', function(destination) {
        window.location.href = destination;
    });

    function newgame_user(username) {
      socket.emit('newgame_user', username);
    }

    function newgame_email(email) {
      socket.emit('newgame_email', email);
    }

    socket.on('error_user', function(err){
      document.getElementById('error_user').innerHTML = err;
      setTimeout(function () {
        document.getElementById('error_user').innerHTML = '';
      }, 5*1000);
    });

    socket.on('error_email', function(err){
      document.getElementById('error_email').innerHTML = err;
      setTimeout(function () {
        document.getElementById('error_email').innerHTML = '';
      }, 5*1000);
    });

  </script>
</head>

<body>

  <% include ../../partials/nav.ejs %>
  <h1>Find Opponent</h1>
  <!-- Tab links -->
  <div class="tab">
    <button class="tablinks" onclick="openTab(event, 'username_tab')">Username</button>
    <button class="tablinks" onclick="openTab(event, 'email_tab')">Email</button>
  </div>

  <!-- Tab content -->
  <div id="username_tab" class="tabcontent" style='max-width:300px;'>

    <input class='form-control' type='text' id='username' placeholder='username'>
    <button class='btn btn-lg btn-primary btn-block' onclick="newgame_user(document.getElementById('username').value)">Start Game</button>
    <div id='error_user'></div>

  </div>

  <div id="email_tab" class="tabcontent">

    <input class='form-control' type='text' id='email' placeholder='email'>
    <button class='btn btn-lg btn-primary btn-block' onclick="newgame_email(document.getElementById('email').value)">Start Game</button>
    <div id='error_email'></div>

  </div>

<script type="text/javascript" src="/js/tabs.js"></script>

</body>
</html>
